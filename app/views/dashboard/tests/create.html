<!DOCTYPE html>

<div>
  <h2>Créer un test</h2>

  <div class="jumbotron">
    <div class="container">

      <form class="form form-horizontal col-lg-12" ng-submit="submit()">

        <div class="control-group col-lg-6">
          <label class="control-label col-lg-2" for="matiere">Matière</label>
          <div class="controls col-lg-10" id="matiere">
            <input type="text" class="form-control" ng-model="test.matiere" required>
          </div>
        </div>

        <div class="control-group col-lg-6">
          <label class="control-label col-lg-4" for="date">Date du test</label>
          <div class="controls col-lg-8 input-group" id="date">
            <input  type="text" class="form-control" ng-model="test.date" required placeholder="jj/mm/aaaa"
                    is-open="datePicker.opened" min-date="datePicker.minDate" datepicker-options="dateOptions"
                    date-disabled="datePicker.disabled(date, mode)" datepicker-popup="dd/MM/yyyy" on-open-focus="false" />
            <span class="input-group-btn">
              <button type="button" class="btn btn-default" ng-click="datePicker.open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
          </div>
        </div>

        <hr class="col-lg-12" style="margin: 30px auto;" />

        <div class="control-group col-lg-6">
          <label class="control-label col-lg-2" for="search">Chercher</label>
          <div class="controls col-lg-10" id="search">
            <input type="text" class="form-control" ng-model="search">
          </div>
        </div>
        <div class="control-group col-lg-6">
          <div class="form-control-static col-lg-5" style="margin-left: -30px">
            <i class="glyphicon glyphicon-arrow-right"></i>
            &nbsp; {{ searchResult() }} résultats trouvés
          </div>
          <button class="btn btn-info col-lg-5 col-lg-offset-1 pull-right" type="button" ng-click="selectAll()" ng-hide="allSelected" ng-disabled="!search || searchResult() <= 0">Tout sélectionner</button>
          <button class="btn btn-info col-lg-5 col-lg-offset-1 pull-right" type="button" ng-click="selectAll()" ng-show="allSelected" ng-disabled="!search || searchResult() <= 0">Tout désélectionner</button>
          <button class="btn btn-primary pull-right" type="button" ng-click="open = !open" ng-disabled="!search || searchResult() <= 0">Voir</button>
        </div>

        <div class="col-lg-12" collapse="open" style="padding-top: 30px;">
          <table class="table table-hover table-vcenter">
            <tr ng-repeat="question in filter | orderBy:sortType:sortReverse"
    		        ng-show="currentUser().username === question.author">
    		      <td>{{ question.title }}</td>
    		      <td>{{ question.plaincDate }}</td>
    		      <td>
    		        <div ng-repeat="tag in question.tags | orderBy:'+'">
    		          <span class="label label-default">{{ tag }}</span>
    		        </div>
    		      </td>
    		      <td>
    		        <center>
    		          <input type="checkbox" ng-model="question.selected">
    		        </center>
    		      </td>
    		    </tr>
          </table>
        </div>

        <div class="control-group col-lg-12" style="padding-top: 50px;">
          <div class="col-lg-offset-1" style="padding-left: 14px">
            <button class="btn btn-primary">Aperçu</button>
          </div>
        </div>

      </form>

    </div>
  </div>

</div>
